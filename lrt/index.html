<!--
MTR Train Live Schedule 
GitHub & Sponsor this project: https://github.com/sammyfung/mtrtrain
-->
<html lang="en">
<head>
<title>è¼•éµåˆ—è»Šå³æ™‚ç­æ¬¡ - sammy.hk</title>
<meta name="description" content="æ¸¯éµ, æ™‚é–“è¡¨, è¼•éµ, å±¯é–€, å…ƒæœ—, å¤©æ°´åœ"/>
<meta charset="utf-8"/>
<style>
th,td { font-size: 32px; text-align: center; }
.std_text { font-size: 32px; }
.head_text { font-size: 48px; }
</style>
</head>
<body>
<h1 id='pagetitle' class='head_text'>è¼•éµåˆ—è»Šå³æ™‚ç­æ¬¡ - <a href="https://sammy.hk/">sammy.hk</a></h1>
<p id='current_time' class='std_text'>âŒšï¸ ç¾åœ¨æ™‚é–“ï¼š -</p>
<p id='update_time' class='std_text'>âŒšï¸ æ›´æ–°æ™‚é–“ï¼š -</p>
<table id="timetable" border='1' width='100%'>
  <tr><th>åˆ—è»Š</th><th>1</th><th>2</th><th>3</th><th>4</th></tr>
</table>
<p class='std_text'>ğŸš† é¸æ“‡è»Šç«™</p>

<h2 class='std_text'>å±¯é–€</h2>
<p class='std_text'>
<a href="?stop=1">å±¯é–€ç¢¼é ­</a> | 
<a href="?stop=10">ç¾æ¨‚</a> |
<a href="?stop=15">è´è¶</a> |
<a href="?stop=20">è¼•éµè»Šå» </a> |
<a href="?stop=30">é¾é–€</a> |
<a href="?stop=40">é’å±±æ‘</a> |
<a href="?stop=50">é’é›²</a> |
<a href="?stop=60">å»ºå®‰</a> |
<a href="?stop=70">æ²³ç”°</a> |
<a href="?stop=75">è”¡æ„æ©‹</a> |
<a href="?stop=80">æ¾¤è±</a> |
<a href="?stop=90">å±¯é–€é†«é™¢</a> |
<a href="?stop=100">å…†åº·</a> | 
<a href="?stop=110">éº’éºŸ</a> |
<a href="?stop=120">é’æ¾</a> |
<a href="?stop=130">å»ºç”Ÿ</a> |
<a href="?stop=140">ç”°æ™¯</a> |
<a href="?stop=150">è‰¯æ™¯</a> |
<a href="?stop=160">æ–°åœ</a> |
<a href="?stop=170">çŸ³æ’</a> |
<a href="?stop=180">å±±æ™¯(åŒ—)</a> |
<a href="?stop=190">å±±æ™¯(å—)</a> |
<a href="?stop=200">é³´ç´</a> |
<a href="?stop=212">å¤§èˆˆ(åŒ—)</a> |
<a href="?stop=220">å¤§èˆˆ(å—)</a> |
<a href="?stop=230">éŠ€åœ</a> |
<a href="?stop=240">å…†ç¦§</a> |
<a href="?stop=250">å±¯é–€æ³³æ± </a> |
<a href="?stop=260">è±æ™¯åœ’</a> |
<a href="?stop=265">å…†éºŸ</a> |
<a href="?stop=270">å®‰å®š</a> |
<a href="?stop=275">å‹æ„›</a> |
<a href="?stop=280">å¸‚ä¸­å¿ƒ</a> |
<a href="?stop=295">å±¯é–€</a> |
<a href="?stop=300">æ¯æ¸¡</a> | 
<a href="?stop=310">ä½•ç¦å ‚</a> |
<a href="?stop=320">æ–°å¢Ÿ</a> |
<a href="?stop=330">æ™¯å³°</a> |
<a href="?stop=340">é³³åœ°</a> |
<a href="?stop=350">è—åœ°</a> |
<a href="?stop=360">æ³¥åœ</a> |
<a href="?stop=370">é¾å±‹æ‘</a> |
<a href="?stop=920">ä¸‰è–</a> |
</p>

<h2 class='std_text'>å…ƒæœ—</h2>
<p class='std_text'>
<a href="?stop=380">æ´ªæ°´æ©‹</a> |
<a href="?stop=390">å¡˜åŠæ‘</a> |
<a href="?stop=400">å±å±±</a> |
<a href="?stop=560">æ°´é‚Šåœ</a> |
<a href="?stop=570">è±å¹´è·¯</a> |
<a href="?stop=580">åº·æ¨‚è·¯</a> |
<a href="?stop=590">å¤§æ£ è·¯</a> |
<a href="?stop=600">å…ƒæœ—</a> | 
</p>

<h2 class='std_text'>å¤©æ°´åœ</h2>
<p class='std_text'>
  <a href="?stop=425">å‘å°¾æ‘</a> |
  <a href="?stop=430">å¤©æ°´åœ</a> |
  <a href="?stop=435">å¤©æ…ˆ</a> |
  <a href="?stop=445">å¤©è€€</a> |
  <a href="?stop=448">æ¨‚æ¹–</a> |
  <a href="?stop=450">å¤©æ¹–</a> |
  <a href="?stop=455">éŠ€åº§</a> |
  <a href="?stop=460">å¤©ç‘</a> |
  <a href="?stop=468">é Œå¯Œ</a> |
  <a href="?stop=480">å¤©å¯Œ</a> |
  <a href="?stop=490">ç¿ æ¹–</a> |
  <a href="?stop=500">å¤©æ¦®</a> |
  <a href="?stop=510">å¤©æ‚…</a> |
  <a href="?stop=520">å¤©ç§€</a> |
  <a href="?stop=530">æ¿•åœ°å…¬åœ’</a> |
  <a href="?stop=540">å¤©æ’</a> |
  <a href="?stop=550">å¤©é€¸</a> |
</p>

<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-0247336506883797"
     crossorigin="anonymous"></script>
<ins class="adsbygoogle"
     style="display:block; text-align:center;"
     data-ad-layout="in-article"
     data-ad-format="fluid"
     data-ad-client="ca-pub-0247336506883797"
     data-ad-slot="9504048053"></ins>
<script>
     (adsbygoogle = window.adsbygoogle || []).push({});
</script>
<hr/>
<p class='std_text'>ğŸš† é¸æ“‡æ¸¯éµç¶«è·¯ ğŸ‘‰ <a href="../?line=AEL">æ©Ÿå ´å¿«ç¶«</a> | <a href="../?line=TCL">æ±æ¶Œç¶«</a> | <a href="../?line=TKL">å°‡è»æ¾³ç¶«</a> | <a href="../?line=TML">å±¯é¦¬ç¶«</a> | <a href="../?line=EAL">æ±éµç¶«</a> | <a href="../?line=SIL">å—æ¸¯å³¶ç¶«</a> | <a href="../?line=TWL">èƒç£ç¶«</a> | <a href="../?line=ISL">æ¸¯å³¶ç·š</a> | <a href="../?line=KTL">è§€å¡˜ç¶«</a> | <a href="/mtrtrain/mtrtrain.html">English</a> .</p>
<p class='std_text'>ğŸ‘¨<200d>ğŸ’» é–‹æ”¾æºç¢¼ mtrtrain ç”± <a href="https://github.com/sammyfung/mtrtrain" target="_blank">@sammyfung</a> é–‹ç™¼ï¼Œæ•¸æ“šä¾†è‡ª<a href='https://data.gov.hk/tc-data/dataset/mtr-data2-nexttrain-data'>é–‹æ”¾æ•¸æ“šå¹³å° DATA.GOV.HK</a> ğŸ‘</p>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-K0FKV4F132"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-K0FKV4F132');
</script>
<!--
<script src="https://code.jquery.com/jquery-3.4.1.min.js"></script>
-->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js">
</script>
<script>
  const lrt_stops = {
    1: 'å±¯é–€ç¢¼é ­',
    10: 'ç¾æ¨‚',
    15: 'è´è¶',
    20: 'è¼•éµè»Šå» ',
    30: 'é¾é–€',
    40: 'é’å±±æ‘',
    50: 'é’é›²',
    60: 'å»ºå®‰',
    70: 'æ²³ç”°',
    75: 'è”¡æ„æ©‹',
    80: 'æ¾¤è±',
    90: 'å±¯é–€é†«é™¢',
    100: 'å…†åº·',
    110: 'éº’éºŸ',
    120: 'é’æ¾',
    130: 'å»ºç”Ÿ',
    140: 'ç”°æ™¯',
    150: 'è‰¯æ™¯',
    160: 'æ–°åœ',
    170: 'çŸ³æ’',
    180: 'å±±æ™¯(åŒ—)',
    190: 'å±±æ™¯(å—)',
    200: 'é³´ç´',
    212: 'å¤§èˆˆ(åŒ—)',
    220: 'å¤§èˆˆ(å—)',
    230: 'éŠ€åœ',
    240: 'å…†ç¦§',
    250: 'å±¯é–€æ³³æ± ',
    260: 'è±æ™¯åœ’',
    265: 'å…†éºŸ',
    270: 'å®‰å®š',
    275: 'å‹æ„›',
    280: 'å¸‚ä¸­å¿ƒ',
    295: 'å±¯é–€',
    300: 'æ¯æ¸¡',
    310: 'ä½•ç¦å ‚',
    320: 'æ–°å¢Ÿ',
    330: 'æ™¯å³°',
    340: 'é³³åœ°',
    350: 'è—åœ°',
    360: 'æ³¥åœ',
    370: 'é¾å±‹æ‘',
    380: 'æ´ªæ°´æ©‹',
    390: 'å¡˜åŠæ‘',
    400: 'å±å±±',
    425: 'å‘å°¾æ‘',
    430: 'å¤©æ°´åœ',
    435: 'å¤©æ…ˆ',
    445: 'å¤©è€€',
    448: 'æ¨‚æ¹–',
    450: 'å¤©æ¹–',
    455: 'éŠ€åº§',
    460: 'å¤©ç‘',
    468: 'é Œå¯Œ',
    480: 'å¤©å¯Œ',
    490: 'ç¿ æ¹–',
    500: 'å¤©æ¦®',
    510: 'å¤©æ‚…',
    520: 'å¤©ç§€',
    530: 'æ¿•åœ°å…¬åœ’',
    540: 'å¤©æ’',
    550: 'å¤©é€¸',
    560: 'æ°´é‚Šåœ',
    570: 'è±å¹´è·¯',
    580: 'åº·æ¨‚è·¯',
    590: 'å¤§æ£ è·¯',
    600: 'å…ƒæœ—',
    920: 'ä¸‰è–',
  }
  function updateTime() {
      const now = new Date();
      const optionsDate = { year: 'numeric', month: 'long', day: 'numeric' };
      const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
      document.getElementById('current_time').innerText = 'âŒšï¸ ç¾åœ¨æ™‚é–“ï¼š' + now.toLocaleDateString('zh-HK', optionsDate) + now.toLocaleTimeString('zh-HK', optionsTime);
  }

  setInterval(updateTime, 1000);
  updateTime(); // Initial call to display time immediately

  var getUrlParameter = function getUrlParameter(sParam) {
    var sPageURL = window.location.search.substring(1),
        sURLVariables = sPageURL.split('&'),
        sParameterName,
        i;

    for (i = 0; i < sURLVariables.length; i++) {
        sParameterName = sURLVariables[i].split('=');

        if (sParameterName[0] === sParam) {
            return sParameterName[1] === undefined ? true : decodeURIComponent(sParameterName[1]);
        }
    }
  };

  const stop = getUrlParameter('stop');
  //console.log(`stop = {stop}`);
  const url = 'https://rt.data.gov.hk/v1/transport/mtr/lrt/getSchedule?station_id=' + stop;
  const stop_title = `${lrt_stops[stop]} - è¼•éµåˆ—è»Šå³æ™‚ç­æ¬¡`;
  document.title = stop_title + ' - sammy.hk';
  $('#pagetitle').html(stop_title + ' - <a href="https://sammy.hk/">sammy.hk</a>');
  $.getJSON(url, function( data ) {
    /*const system_time = new Date(data.system_time.replace(' ', 'T'));
    const optionsDate = { year: 'numeric', month: 'long', day: 'numeric' };
    const optionsTime = { hour: '2-digit', minute: '2-digit', second: '2-digit', hour12: false };
    const formattedDate = date.toLocaleDateString('zh-HK', optionsDate);
    const formattedTime = date.toLocaleTimeString('zh-HK', optionsTime);*/
    $('#update_time').html(`âŒšï¸ æ›´æ–°æ™‚é–“ï¼š${data.system_time}`);
    $.each( data.platform_list, function( key, val ) {
      $("#timetable").append(`<tr id='platform${val.platform_id}'><th>æœˆå°${val.platform_id}</th</tr>`);
      $.each( val.route_list, function( route_key, route_val ) {
        var train_length = '';
        if (route_val.train_length == 2) {
          train_length = 'ğŸš‹ğŸš‹';
        } else {
          train_length = 'ğŸš‹';
        };
        $(`#platform${val.platform_id}`).append(`<td>${train_length} ${route_val.route_no} ${route_val.dest_ch} (${route_val.time_ch})</td>`);
      });
      console.log(val);

    });
  });
</script>
</html>
